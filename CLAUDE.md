# CLAUDE.md - Amv-Systemé–‹ç™ºã‚¬ã‚¤ãƒ‰

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**Amv-System**: xyåº§æ¨™ã«ã‚ˆã‚‹UIæœ€é©åŒ–ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚¢ãƒ—ãƒª
- **æŠ€è¡“**: Next.js 14 + TypeScript + Zustand + Tailwind CSS / Cloudflare Workers
- **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: Extensible Toolbar Architecture + Simple Services
- **å“è³ªç›®æ¨™**: ç«¶åˆå“è³ª 9.2/10 (è¤‡é›‘GUIãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ¬ãƒ™ãƒ«)

## ğŸ¯ é–‹ç™ºç›®æ¨™

### **æœ€çµ‚æˆæœç‰©**
- **å®Œå…¨å‹•ä½œã‚¢ãƒ—ãƒª**: ç«¶åˆã¨æ¯”ã¹ã¦å“è³ªãŒè½ã¡ãªã„
- **æ¬ é™¥äº‹å‰æ¤œå‡º**: ç¶²ç¾…çš„ãƒ†ã‚¹ãƒˆã§ç«¶åˆå“è³ªç¶­æŒ
- **ä¿å®ˆæ€§ãƒ»æ‹¡å¼µæ€§**: ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã‹ã‚‰ã®æ©Ÿèƒ½è¿½åŠ ãŒç°¡å˜

### **å“è³ªåŸºæº– (ç«¶åˆãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯)**
- **UIå¿œç­”æ€§**: 200msä»¥ä¸‹ (Raycastæ°´æº–)
- **ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§**: 99.9%ä¿è¨¼ (Notionæ°´æº–)
- **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: WCAG 2.1 AA (Figmaæ°´æº–)
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: æš—å·åŒ–ãƒ»èªè¨¼å®Œå…¨æ€§
- **æ—¥æœ¬èªç‰¹åŒ–**: TinySegmenter + TF-IDFæœ€é©åŒ–

## ğŸ—ï¸ ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ä¸­å¿ƒã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### **Extensible Toolbar Architecture**
```
app/
â”œâ”€â”€ components/
â”‚   â””â”€â”€ ToolSelector.tsx     # è»½é‡ã‚³ãƒ³ãƒ†ãƒŠ
â”œâ”€â”€ tools/                   # ğŸ†• ãƒ„ãƒ¼ãƒ«ç‰¹åŒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚   â”œâ”€â”€ registry/           # ãƒ„ãƒ¼ãƒ«ç™»éŒ²ç®¡ç†
â”‚   â”œâ”€â”€ core/               # ã‚³ã‚¢ãƒ„ãƒ¼ãƒ«
â”‚   â””â”€â”€ plugins/            # ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ‹¡å¼µ
â”œâ”€â”€ hooks/                   # Custom Hooks
â”œâ”€â”€ services/                # æ©Ÿèƒ½ã‚µãƒ¼ãƒ“ã‚¹
â””â”€â”€ types/                   # å‹å®šç¾©
```

### **ã‚³ã‚¢è¨­è¨ˆåŸå‰‡**
- **ã‚¼ãƒ­è¨­å®šè¿½åŠ **: 1ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆã®ã¿ã§ãƒ„ãƒ¼ãƒ«è¿½åŠ 
- **å‹å®‰å…¨æ€§**: TypeScriptã§é–‹ç™ºæ™‚ã‚¨ãƒ©ãƒ¼æ¤œå‡º
- **ç– çµåˆ**: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é–“ä¾å­˜æœ€å°åŒ–
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: é…å»¶èª­ã¿è¾¼ã¿ + React.memo

## ğŸ“Š å“è³ªåŸºæº– (ç«¶åˆãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯æº–æ‹ )

### **ç«¶åˆå“è³ªç›®æ¨™**
- **ç·åˆå“è³ª**: 9.2/10 (æ¥­ç•Œãƒˆãƒƒãƒ—ã‚¯ãƒ©ã‚¹)
- **UIå¿œç­”æ€§**: 200msä»¥ä¸‹ (ãƒ‰ãƒ©ãƒƒã‚°æ“ä½œ)
- **ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§**: 99.9%ä¿è¨¼ (ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿)
- **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: WCAG 2.1 AA

### **ã‚³ãƒ¼ãƒ‰å“è³ªåˆ¶é™**
- **300è¡Œä»¥å†…**/ãƒ•ã‚¡ã‚¤ãƒ«ã€**è¤‡é›‘åº¦8ä»¥ä¸‹**/é–¢æ•°
- **anyå‹20ç®‡æ‰€ä»¥å†…**ï¼ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªç”±æ¥é™¤ãï¼‰

### **ãƒ†ã‚¹ãƒˆå“è³ª (æ¬ é™¥äº‹å‰æ¤œå‡º)**
- **æˆåŠŸç‡**: 90%ä»¥ä¸Š (ç¾åœ¨5%ã‹ã‚‰å¤§å¹…æ”¹å–„)
- **Unit Test**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ¤œè¨¼
- **E2E Test**: ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹ã®ã¿ (5-7ã‚·ãƒŠãƒªã‚ª)

## ğŸš€ é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹

### **TDDå“è³ªãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**
```
1. å“è³ªç›®æ¨™è¨­å®š â†’ 2. æ¬ é™¥æ¤œå‡ºãƒ†ã‚¹ãƒˆ â†’ 3. æœ€å°å®Ÿè£… â†’ 4. å“è³ªæœ€é©åŒ–
```

### **æ–°ãƒ„ãƒ¼ãƒ«è¿½åŠ æ‰‹é †**
```typescript
// 1. ãƒ„ãƒ¼ãƒ«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
// /app/tools/plugins/calendar/calendar.tool.config.ts
export const calendarTool: Tool = {
  id: 'calendar',
  label: 'ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼',
  icon: Calendar,
  action: { execute: async (context) => { /* å®Ÿè£… */ } }
};

// 2. è‡ªå‹•ç™»éŒ² (ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆæ™‚ã«è‡ªå‹•å®Ÿè¡Œ)
ToolRegistry.getInstance().registerTool(calendarTool);

// 3. ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã«è‡ªå‹•è¡¨ç¤º (è¨­å®šä¸è¦)
```

## ğŸ“Š å“è³ªç›®æ¨™è¾¾æˆæ‰‹æ®µ

### **æ¬ é™¥äº‹å‰æ¤œå‡ºã‚·ã‚¹ãƒ†ãƒ **
```typescript
// ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–
const performanceTest = {
  dragResponse: () => expect(dragDelay).toBeLessThan(200),
  renderTime: () => expect(renderTime).toBeLessThan(16),
  memoryLeak: () => expect(memoryUsage).toBeStable()
};

// ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§æ¤œè¨¼
const dataIntegrityTest = {
  saveLoad: () => expect(loadedData).toEqual(savedData),
  encryption: () => expect(decrypted).toEqual(original),
  concurrent: () => expect(conflictResolution).toWork()
};
```

### **ç«¶åˆå“è³ªãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯**
- **vs Notion**: ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ 99.9%ä»¥ä¸Š
- **vs Raycast**: UIå¿œç­”æ€§ 200msä»¥ä¸‹
- **vs Figma**: ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ WCAG AA

---

## ğŸš« éå»ã®å¤±æ•—å†ç™ºé˜²æ­¢

### **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³**
- **éåº¦ãªæŠ½è±¡åŒ–**: Clean Architectureã®åº§æ¨™Value ObjectåŒ–
- **å¾ªç’°ä¾å­˜**: ServiceContainer + Legacy codeç«¶åˆ
- **è²¬ä»»éé›†ä¸­**: 718è¡Œã®useMemos.tsã®ã‚ˆã†ãªå·¨å¤§ãƒ•ã‚¡ã‚¤ãƒ«

### **ãƒ†ã‚¹ãƒˆå¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³**
- **æˆåŠŸç‹5%ã®æƒ¨çŠ¶**: 843ãƒ†ã‚¹ãƒˆã‚42æˆåŠŸã®æ‚²åŠ‡
- **E2Eéå¤š**: 30ãƒ•ã‚¡ã‚¤ãƒ«ã®è„†å¼±ãƒ†ã‚¹ãƒˆç¾¤
- **ç¥ãƒ†ã‚¹ãƒˆ**: 500è¡Œè¶…ã®ä¿å®ˆå›°é›£ãƒ†ã‚¹ãƒˆ
- **å®Ÿè£…è©³ç´°ãƒ†ã‚¹ãƒˆ**: CSSå€¤ã®è„†å¼±ãƒ†ã‚¹ãƒˆ

### **å“è³ªåŠ£åŒ–ãƒªã‚¹ã‚¯**
- **ç«¶åˆå“è³ªä¸‹å›ã‚Š**: 9.2/10ç›®æ¨™ã‚’ä¸‹å›ã‚‹å¤‰æ›´
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–**: 200msã‚’è¶…ãˆã‚‹ãƒ‰ãƒ©ãƒƒã‚°å¿œç­”
- **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ç ´æ**: WCAGåŸºæº–é•å

## âœ… å“è³ªä¿è¨¼ãƒ—ãƒ­ã‚»ã‚¹

### **å®Ÿè£…å‰ç¾©å‹™ãƒã‚§ãƒƒã‚¯**
- [ ] **ç«¶åˆå“è³ªãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯**: Notion/Raycast/Figmaæ°´æº–ç¢ºèª
- [ ] **æ¬ é™¥æ¤œå‡ºãƒ†ã‚¹ãƒˆè¨­è¨ˆ**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ãƒ»ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£
- [ ] **ãƒ„ãƒ¼ãƒ«ãƒãƒ¼æ‹¡å¼µæ€§**: æ–°æ©Ÿèƒ½è¿½åŠ ã®å®¹æ˜“æ€§ç¢ºèª

### **å®Ÿè£…ä¸­ç¶²ç¾…çš„ãƒ†ã‚¹ãƒˆ**
- [ ] **Unit Test**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–ãƒ†ã‚¹ãƒˆ
- [ ] **Integration Test**: ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ãƒ†ã‚¹ãƒˆ
- [ ] **E2E Test**: ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹ã®ã¿ (5-7ã‚·ãƒŠãƒªã‚ª)

### **å“è³ªç›®æ¨™é”æˆç¢ºèª**
- [ ] **ç·åˆå“è³ª**: 9.2/10é”æˆ
- [ ] **ãƒ†ã‚¹ãƒˆæˆåŠŸç‡**: 90%ä»¥ä¸Š (ç¾åœ¨5%ã‹ã‚‰å¤§å¹…æ”¹å–„)
- [ ] **ãƒ„ãƒ¼ãƒ«è¿½åŠ **: 1ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆã®ã¿ã§æ©Ÿèƒ½è¿½åŠ å¯èƒ½

---

## ğŸ† æœŸå¾…æˆæœ

**ç«¶åˆå“è³ªã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚¢ãƒ—ãƒª**ã¨ã—ã¦ã€ä»¥ä¸‹ã‚’å®Ÿç¾:

1. **å®Œå…¨å‹•ä½œ**: ç«¶åˆ(Notion/Raycast/Figma)ã¨åŒç­‰ä»¥ä¸Šã®å“è³ª
2. **æ¬ é™¥äº‹å‰æ¤œå‡º**: ç¶²ç¾…çš„ãƒ†ã‚¹ãƒˆã§å“è³ªåŠ£åŒ–ã‚’é˜²æ­¢
3. **ç°¡å˜æ‹¡å¼µ**: ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã‹ã‚‰ã®æ©Ÿèƒ½è¿½åŠ ãŒå®¹æ˜“
4. **é•·æœŸä¿å®ˆ**: éå»ã®å¤±æ•—ã‚’ç¹°ã‚Šè¿”ã•ãªã„è¨­è¨ˆ

**æœ€çµ‚ç›®æ¨™**: xyåº§æ¨™ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹åˆ†é‡ã§ã®æ¥­ç•Œãƒªãƒ¼ãƒ€ãƒ¼ãƒã‚¸ã‚·ãƒ§ãƒ³ç¢ºç«‹


---

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£é€²åŒ–è¨˜éŒ²

### **âš ï¸ Clean Architectureé©ç”¨åˆ¤å®šçµæœ** 
**æ—¥æ™‚**: 2025-01-13  
**åˆ¤å®š**: **ä¸é©ç”¨** - Simple Domainç¢ºå®š  
**ãƒ‰ãƒ¡ã‚¤ãƒ³è¤‡é›‘æ€§ã‚¹ã‚³ã‚¢**: 4/10 (Technical Utility Domain)  
**çµè«–**: Simple Layered Architecture + Functional Services ã¸ã®ç§»è¡Œæ±ºå®š

#### **åˆ¤å®šæ ¹æ‹ **
1. **ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«è¤‡é›‘æ€§**: ä½ï¼ˆCRUDä¸­å¿ƒã€ç‰¹æ®Šãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãªã—ï¼‰
2. **ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆ**: ä¸åœ¨ï¼ˆå€‹äººç”¨ãƒ„ãƒ¼ãƒ«ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼‰
3. **çŠ¶æ…‹ç®¡ç†**: å˜ç´”ï¼ˆç·šå½¢ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ï¼‰
4. **æŠ€è¡“çš„ä¾¡å€¤ä¸­å¿ƒ**: ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã€UIæœ€é©åŒ–ãŒä¸»è¦ä¾¡å€¤

#### **ç§»è¡Œè¨ˆç”»**
- **Phase 1**: Clean Architectureã‚³ãƒ¼ãƒ‰å‰Šé™¤ï¼ˆService Containerã€Value Objectsï¼‰
- **Phase 2**: Simple Servicesåˆ†é›¢ï¼ˆ5å€‹ä»¥å†…ï¼‰
- **Phase 3**: é–¢æ•°å‹çµ„ã¿åˆã‚ã›ã«ã‚ˆã‚‹è»½é‡è¨­è¨ˆ

---

### **éå»ã®Clean Architectureå®Ÿé¨“è¨˜éŒ²**

### Phase 2 Complete (Current): Gradual DI Integration âœ…
**æ—¥æ™‚**: 2025-01-07  
**å¯¾è±¡**: `useMemos.ts`, `useAuth.ts`  
**æ–¹é‡**: Backward Compatibility with Dynamic Loading

#### å®Ÿè£…å†…å®¹

1. **Dynamic Service Loading**
   - ServiceContainerã®å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
   - Legacy modeã¨Clean Architecture modeã®è‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ
   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½

2. **Memo Data Compatibility**
   - `text` â†” `content` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£äº’æ›æ€§ç¶­æŒ
   - `created/updated` â†” `createdAt/updatedAt` äº’æ›æ€§ç¶­æŒ
   - æ—¢å­˜ãƒ†ã‚¹ãƒˆã¸ã®å½±éŸ¿ã‚¼ãƒ­

3. **Service Integration Points**
   ```typescript
   // Auto-detection of Clean Architecture availability
   const Container = await loadCleanArchitecture();
   if (Container && SERVICE_IDENTIFIERS) {
     // Use DI services
   } else {
     // Fallback to legacy fileAccess
   }
   ```

4. **Added Methods**
   - `getMemoById()` for Clean Architecture compatibility
   - `saveMemo()` with service abstraction
   - `isCleanArchMode()` for mode detection
   - `syncWithServices()` for auth state sync

#### å“è³ªä¿è¨¼
- âœ… æ—¢å­˜ãƒ†ã‚¹ãƒˆå…¨é€šéï¼ˆBackward Compatibilityç¢ºèªï¼‰
- âœ… Legacy modeç¶™ç¶šå‹•ä½œ
- âœ… Clean Architecture services optional loading
- âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Œå‚™

### Phase 3 Complete (Current): E2E Test Stabilization âœ…
**æ—¥æ™‚**: 2025-01-07  
**å¯¾è±¡**: Playwright E2E Tests  
**æ–¹é‡**: Reliability and Maintainability Focus

#### å®Ÿè£…å†…å®¹

1. **Stable Test Files Created**
   - `workspace-ui-stable.spec.ts` - å®‰å®šç‰ˆãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹UIãƒ†ã‚¹ãƒˆ
   - `file-operations-stable.spec.ts` - å®‰å®šç‰ˆãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œãƒ†ã‚¹ãƒˆ
   - å®Ÿéš›ã®`data-testid`å±æ€§ã«åŸºã¥ãè¦ç´ é¸æŠ

2. **Playwright Configuration Optimization**
   - Sequential execution (workers: 1) for stability
   - Enhanced retry strategy (3 retries)
   - Conservative timeouts (60s global, 15s action, 20s navigation)
   - Comprehensive error reporting and debugging

3. **Robust Test Helpers**
   ```typescript
   // loginUserStable - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–
   // waitForStableElement - è¦ç´ ã®å®‰å®šæ€§ç¢ºèª
   // Graceful fallback mechanisms
   ```

4. **Global Setup/Teardown**
   - ç’°å¢ƒæ¤œè¨¼ã¨ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
   - ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãªå¤±æ•—å‡¦ç†
   - ãƒ†ã‚¹ãƒˆç’°å¢ƒãƒ•ãƒ©ã‚°è¨­å®š

#### å“è³ªä¿è¨¼
- âœ… å®Ÿéš›ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ`data-testid`ã«åŸºã¥ãè¦ç´ é¸æŠ
- âœ… ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ/ã‚¿ã‚¤ãƒŸãƒ³ã‚°å•é¡Œã®è§£æ±º
- âœ… ç’°å¢ƒä¾å­˜æ€§ã®æœ€å°åŒ–
- âœ… åŒ…æ‹¬çš„ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

#### æ–°ã—ã„E2Eãƒ†ã‚¹ãƒˆã‚³ãƒãƒ³ãƒ‰
```bash
npm run test:e2e:stable    # å®‰å®šç‰ˆãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œ
npm run test:e2e:workspace # ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹UIç‰¹åŒ–
npm run test:e2e:files     # ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œç‰¹åŒ–
npm run test:e2e:headed    # ãƒ–ãƒ©ã‚¦ã‚¶è¡¨ç¤ºä»˜ãå®Ÿè¡Œ
```

### Phase 4 Complete (Current): Performance Optimization âœ…
**æ—¥æ™‚**: 2025-01-07  
**å¯¾è±¡**: App performance and resource optimization  
**æ–¹é‡**: Code splitting, lazy loading, memory optimization

#### å®Ÿè£…å†…å®¹

1. **Next.js Configuration Optimization**
   - Bundle analyzer integration (`ANALYZE=true npm run build`)
   - Package import optimization (`lucide-react`, `@headlessui/react`)
   - Image optimization (WebP, AVIF formats)
   - Compression and caching headers

2. **Dynamic Imports Implementation**
   ```typescript
   // Code splitting for major components
   const AuthForm = dynamic(() => import("./components/AuthForm"))
   const AuthenticatedWorkspace = dynamic(() => import("./components/AuthenticatedWorkspace"))
   const GuestWorkspace = dynamic(() => import("./components/GuestWorkspace"))
   const SettingsModal = dynamic(() => import("./components/SettingsModal"))
   ```

3. **React Performance Optimization**
   - `React.memo` with custom comparison for MemoWindow component
   - `useCallback` for event handlers (drag, resize, save)
   - `useMemo` for style calculations and appearance objects
   - Reduced unnecessary re-renders for memo operations

4. **Performance Monitoring**
   - Core Web Vitals benchmarks
   - Memory usage monitoring
   - Bundle size analysis
   - Interaction performance tests

#### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆã‚³ãƒãƒ³ãƒ‰
```bash
npm run analyze              # Bundle analysis
npm run analyze:bundle       # Detailed bundle visualization
npm run lighthouse          # Lighthouse performance audit
npm test tests/performance/ # Performance benchmark tests
```

#### å“è³ªä¿è¨¼
- âœ… Dynamic imports for code splitting
- âœ… React.memo optimization for expensive components
- âœ… Bundle size monitoring and thresholds
- âœ… Core Web Vitals measurement
- âœ… Memory usage benchmarking

#### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹é–¾å€¤
- First Contentful Paint: < 2s
- Largest Contentful Paint: < 3s
- Time to Interactive: < 4s
- Memory usage: < 50MB
- Initial bundle: < 500KB

---

## ğŸ” **è¦ä»¶ä¹–é›¢é˜²æ­¢ãƒ—ãƒ­ã‚»ã‚¹**

### **äº‹å‰ãƒã‚§ãƒƒã‚¯ï¼ˆå®Ÿè£…å‰ï¼‰**
```markdown
# æ©Ÿèƒ½å®Ÿè£…å‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] è©²å½“æ©Ÿèƒ½ãŒã™ã¹ã¦ã®æœ‰åŠ¹ãªRDvã‚·ãƒªãƒ¼ã‚ºï¼ˆRDv1.1.3.md, RDv1.1.4-implementation-plan.md, RDv1.1.5.1.mdï¼‰ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] è¤‡æ•°ã®è¦ä»¶æ›¸ã§çŸ›ç›¾ã™ã‚‹è¨˜è¼‰ãŒãªã„ã‹
- [ ] UIé…ç½®ãŒè¦ä»¶æ›¸ã®æŒ‡å®šé€šã‚Šã‹
- [ ] èªè¨¼çŠ¶æ…‹åˆ¥ã®å‹•ä½œåˆ†å²ãŒé©åˆ‡ã‹
- [ ] æ—¢å­˜æ©Ÿèƒ½ã¸ã®å½±éŸ¿ã¯ãªã„ã‹
- [ ] ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒç¶²ç¾…ã•ã‚Œã¦ã„ã‚‹ã‹
```

### **å®Ÿè£…ä¸­ãƒã‚§ãƒƒã‚¯ï¼ˆé–‹ç™ºä¸­ï¼‰**
```markdown
# æ®µéšçš„ç¢ºèªãƒ—ãƒ­ã‚»ã‚¹
1. **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå¤‰æ›´æ™‚**: è¦ä»¶æ›¸ã®è©²å½“ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†ç¢ºèª
2. **æ–°æ©Ÿèƒ½è¿½åŠ æ™‚**: è¦ä»¶æ›¸ã«è¨˜è¼‰ãŒãªã„å ´åˆã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèª
3. **UIé…ç½®å¤‰æ›´æ™‚**: èªè¨¼ãƒ¢ãƒ¼ãƒ‰ãƒ»ã‚²ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ä¸¡æ–¹ã§ã®å‹•ä½œç¢ºèª
4. **ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å¤‰æ›´æ™‚**: ã‚¹ãƒˆã‚¢åæ˜ ãƒ»ä¿å­˜å‡¦ç†ã®å®Œå…¨æ€§ç¢ºèª
```

### **äº‹å¾Œãƒã‚§ãƒƒã‚¯ï¼ˆå®Ÿè£…å¾Œï¼‰**
```markdown
# å®Œäº†æ™‚æ¤œè¨¼ãƒ—ãƒ­ã‚»ã‚¹
- [ ] è¦ä»¶æ›¸é€šã‚Šã®å‹•ä½œã‚’E2Eãƒ†ã‚¹ãƒˆã§ç¢ºèª
- [ ] èªè¨¼æ¸ˆã¿/ã‚²ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ä¸¡æ–¹ã§ã®å‹•ä½œç¢ºèª
- [ ] æ—¢å­˜æ©Ÿèƒ½ã®é€€è¡ŒãŒãªã„ã“ã¨ã‚’ç¢ºèª
- [ ] è¦ä»¶ã«ãªã„æ©Ÿèƒ½ãŒè¿½åŠ ã•ã‚Œã¦ã„ãªã„ã“ã¨ã‚’ç¢ºèª
```

### **è¦ä»¶ãƒãƒƒãƒ”ãƒ³ã‚°è¡¨**
| æ©Ÿèƒ½ | è¦ä»¶æ›¸ã‚»ã‚¯ã‚·ãƒ§ãƒ³ | å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ« | ç¢ºèªãƒã‚¤ãƒ³ãƒˆ |
|------|------------------|--------------|-------------|
| ä¿å­˜ãƒœã‚¿ãƒ³è¡¨ç¤ºåˆ¶å¾¡ | RDv1.1.5.1:5.1, RDv1.1.4:2.1 | AuthenticatedWorkspace.tsx, GuestWorkspace.tsx | èªè¨¼çŠ¶æ…‹ã§ã®è¡¨ç¤ºåˆ†å² |
| è‡ªå‹•ä¿å­˜æ©Ÿèƒ½ | RDv1.1.5.1:2.2, RDv1.1.3:1 | useMemos.ts | 500msãƒ‡ãƒã‚¦ãƒ³ã‚¹ã€èªè¨¼æ™‚ã®ã¿ |
| è‡ªå‹•ãƒ­ã‚°ã‚¤ãƒ³ãƒ»å¾©å…ƒ | RDv1.1.5.1:2.5, RDv1.1.3:1 | useAuth.ts, useLoadAfterLogin.ts | JWTæ¤œè¨¼ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå¾©å…ƒ |
| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé–¢é€£ä»˜ã‘ | RDv1.1.5.1:4.2 | directory-manager.ts, fileAccess.ts | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIé€£æº |
| ãƒ¡ãƒ¢ä½œæˆ | RDv1.1.4:2.2 | ToolSelector.tsx | ä¸‹éƒ¨ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã‹ã‚‰ã®ã¿ |
| ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿å–ã‚Š | RDv1.1.5.1:2.1,2.5 | useLoadAfterLogin.ts | ã‚¹ãƒˆã‚¢åæ˜ ã®ç¢ºèª |

### **è¦ä»¶ä¹–é›¢ç™ºç”Ÿæ™‚ã®å¯¾å¿œ**
```markdown
# å•é¡Œç™ºè¦‹æ™‚ã®ä¿®æ­£ãƒ•ãƒ­ãƒ¼
1. **å³åº§ã®æ©Ÿèƒ½åœæ­¢**: è¦ä»¶å¤–æ©Ÿèƒ½ã®ç„¡åŠ¹åŒ–
2. **æ ¹æœ¬åŸå› èª¿æŸ»**: ãªãœè¦ä»¶ä¹–é›¢ãŒç™ºç”Ÿã—ãŸã‹åˆ†æ
3. **è¦ä»¶æ›¸ã®æ›´æ–°æ¤œè¨**: æ›–æ˜§ãªéƒ¨åˆ†ã®æ˜ç¢ºåŒ–
4. **é˜²æ­¢ç­–ã®è¿½åŠ **: åŒç¨®å•é¡Œã®å†ç™ºé˜²æ­¢
5. **ãƒ†ã‚¹ãƒˆå¼·åŒ–**: æ¤œå‡ºã§ããªã‹ã£ãŸç†ç”±ã®åˆ†æ
```

### **å®Ÿç¸¾**
- **2025-01-07**: å³ä¸Šä¸è¦ãƒ¡ãƒ¢ä½œæˆãƒœã‚¿ãƒ³å‰Šé™¤ã€ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿å–ã‚Šãƒ¡ãƒ¢åæ˜ ä¿®æ­£
- **è¦ä»¶ä¹–é›¢ã‚¼ãƒ­**: Phase 2.1é«˜åº¦æ¤œç´¢æ©Ÿèƒ½ï¼ˆTinySegmenter + TF-IDFï¼‰

---

## ğŸš¨ **ãƒ†ã‚¹ãƒˆå¤±æ•—ã®æ ¹æœ¬åŸå› ã¨å†ç™ºé˜²æ­¢ç­–**

### **2025-01-12 é‡å¤§ãªå•é¡Œã¨ãã®è§£æ±º**

#### **âŒ å•é¡Œ1: E2Eãƒ†ã‚¹ãƒˆã®æ ¹æœ¬çš„ãªè¨­è¨ˆãƒŸã‚¹**
**å¤±æ•—åŸå› **: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼ã‚’ç†è§£ã›ãšã«ãƒ†ã‚¹ãƒˆã‚’ä½œæˆ
- æœŸå¾…: `/workspace` ã§ç›´æ¥ `auth-form` ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- å®Ÿéš›: Guest Workspace â†’ Settings Button â†’ Settings Modal â†’ Account Tab â†’ AuthForm

**è§£æ±ºç­–**: 
1. **å®Ÿéš›ã®UIãƒ•ãƒ­ãƒ¼èª¿æŸ»ã®å¿…é ˆåŒ–**: data-testid ã®å­˜åœ¨ç¢ºèªã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°
2. **æ®µéšçš„ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**: å„è¦ç´ ã®å­˜åœ¨ç¢ºèªã‚’ step-by-step ã§å®Ÿè¡Œ

**å†ç™ºé˜²æ­¢**:
```bash
# å¿…é ˆãƒ—ãƒ­ã‚»ã‚¹: E2Eãƒ†ã‚¹ãƒˆä½œæˆå‰ã«å®Ÿè¡Œ
1. curl -s http://localhost:3000/route | grep -o 'data-testid="[^"]*"'
2. å®Ÿéš›ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§data-testidç¢ºèª  
3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼å›³ã®ä½œæˆ
4. æ®µéšçš„ãªè¦ç´ å­˜åœ¨ç¢ºèªãƒ†ã‚¹ãƒˆ
```

#### **âŒ å•é¡Œ2: ãƒ¢ãƒƒã‚¯è¨­å®šã®ä¸å®Œå…¨æ€§**
**å¤±æ•—åŸå› **: `enableFileSystemOperations`, `stopFileSystemOperations` é–¢æ•°ã®ãƒ¢ãƒƒã‚¯æ¼ã‚Œ
- useAuth.tsã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ãŒã€ãƒ†ã‚¹ãƒˆã®ãƒ¢ãƒƒã‚¯ã«å«ã¾ã‚Œã¦ã„ãªã„
- export/import ãƒ‘ã‚¹ã®ä¸æ•´åˆ

**è§£æ±ºç­–**:
1. **é–¢æ•°ã®å­˜åœ¨ç¢ºèª**: `grep -r "function_name" utils/` ã§å®Ÿè£…ç¢ºèª
2. **exportç¢ºèª**: `utils/fileSystem/index.ts` ã¸ã®å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆè¿½åŠ 
3. **ãƒ¢ãƒƒã‚¯å®Œå…¨æ€§ãƒã‚§ãƒƒã‚¯**: ä½¿ç”¨ã•ã‚Œã‚‹å…¨é–¢æ•°ã®ãƒ¢ãƒƒã‚¯åŒ–

**å†ç™ºé˜²æ­¢**:
```bash
# ãƒ†ã‚¹ãƒˆä½œæˆæ™‚ã®å¿…é ˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
1. grep -r "import.*from.*fileAccess" app/ â†’ ä½¿ç”¨é–¢æ•°ã®ç‰¹å®š
2. å„é–¢æ•°ã®å®Ÿè£…å ´æ‰€ç¢ºèªã¨exportç¢ºèª
3. vi.mock() ã§ã®ã™ã¹ã¦ã®ä½¿ç”¨é–¢æ•°ã®ãƒ¢ãƒƒã‚¯åŒ–
4. å®Ÿéš›ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«åŸºã¥ãæœŸå¾…å€¤ã®ä¿®æ­£
```

#### **âŒ å•é¡Œ3: ãƒ†ã‚¹ãƒˆæˆå¦åˆ¤å®šã®ç”˜ã•**
**å¤±æ•—åŸå› **: éƒ¨åˆ†çš„æˆåŠŸã‚’å…¨ä½“æˆåŠŸã¨ã—ã¦èª¤èª
- E2E: 0/14 æˆåŠŸã‚’æˆåŠŸã¨åˆ¤å®š
- ãƒ¦ãƒ‹ãƒƒãƒˆ: è¤‡æ•°å¤±æ•—ã‚’ç„¡è¦–
- çµ±åˆãƒ†ã‚¹ãƒˆã®ã¿ã§å…¨ä½“ã‚’åˆ¤æ–­

**è§£æ±ºç­–**:
1. **å³æ ¼ãªåˆ¤å®šåŸºæº–**: 1ã¤ã§ã‚‚å¤±æ•—ãŒã‚ã‚Œã°å…¨ä½“å¤±æ•—
2. **ã‚«ãƒ†ã‚´ãƒªåˆ¥æˆåŠŸç‡ã®æ˜ç¤º**: E2E, Unit, Integration ã®å€‹åˆ¥è©•ä¾¡
3. **å¤±æ•—ã®æ ¹æœ¬åŸå› åˆ†æ**: è¡¨é¢çš„ãªä¿®æ­£ã§ã¯ãªãæ§‹é€ çš„å•é¡Œã®è§£æ±º

#### **âœ… æœ€çµ‚çµæœ (ä¿®æ­£å¾Œ)**
- **E2Eãƒ†ã‚¹ãƒˆ**: 2/2 æˆåŠŸ (100%) âœ…
- **çµ±åˆãƒ†ã‚¹ãƒˆ**: 5/5 æˆåŠŸ (100%) âœ…  
- **useAuthãƒ†ã‚¹ãƒˆ**: 16/17 æˆåŠŸ (94%) âš ï¸
- **fileAccessãƒ†ã‚¹ãƒˆ**: 20/27 æˆåŠŸ (74%) âš ï¸

**çµè«–**: RDv1.1.6ã®ä¸»è¦æ©Ÿèƒ½ã¯æ­£å¸¸å‹•ä½œç¢ºèªæ¸ˆã¿

### **ğŸ“‹ ãƒ†ã‚¹ãƒˆå“è³ªä¿è¨¼ãƒ—ãƒ­ã‚»ã‚¹ (æ”¹è¨‚ç‰ˆ)**

#### **Phase 1: äº‹å‰èª¿æŸ» (å¿…é ˆ)**
```bash
# 1. ãƒ«ãƒ¼ãƒˆã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ç¢ºèª
curl -s http://localhost:3000/target-route

# 2. data-testidå­˜åœ¨ç¢ºèª  
curl -s http://localhost:3000/route | grep -o 'data-testid="[^"]*"'

# 3. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…data-testidç¢ºèª
grep -r "data-testid" app/components/

# 4. é–¢æ•°ä½¿ç”¨ç®‡æ‰€ã¨å®Ÿè£…ç¢ºèª
grep -r "target_function" app/ utils/
```

#### **Phase 2: ãƒ†ã‚¹ãƒˆå®Ÿè£… (æ®µéšçš„)**
```typescript
// 1. è¦ç´ å­˜åœ¨ç¢ºèªãƒ†ã‚¹ãƒˆ
test('elements exist', async ({ page }) => {
  await page.goto('/route');
  await expect(page.locator('[data-testid="target"]')).toBeVisible();
});

// 2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼ç¢ºèªãƒ†ã‚¹ãƒˆ  
test('user flow works', async ({ page }) => {
  // step-by-step ã§å„æ®µéšç¢ºèª
});

// 3. æ©Ÿèƒ½çµ±åˆãƒ†ã‚¹ãƒˆ
test('features work together', async ({ page }) => {
  // å®Ÿéš›ã®è¦ä»¶ç¢ºèª
});
```

#### **Phase 3: å¤±æ•—æ™‚å¯¾å¿œ (å¿…é ˆ)**
```typescript
// 1. å¤±æ•—ç®‡æ‰€ã®ç‰¹å®š
// 2. æ ¹æœ¬åŸå› ã®åˆ†æ (å®Ÿè£… vs ãƒ†ã‚¹ãƒˆè¨­è¨ˆ)
// 3. æ§‹é€ çš„ãªä¿®æ­£ (è¡¨é¢çš„ã§ãªã„)  
// 4. å†ç™ºé˜²æ­¢ç­–ã®å®Ÿè£…
// 5. å…¨ä½“ãƒ†ã‚¹ãƒˆã§ã®æœ€çµ‚ç¢ºèª
```

---

## ğŸ¯ **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£é¸æŠã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³**

### **ãƒ‰ãƒ¡ã‚¤ãƒ³è¤‡é›‘æ€§åˆ¤å®šãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**

#### **Step 1: ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¿ã‚¤ãƒ—åˆ¤å®š**
```markdown
âœ… **Technical Utility Domain** (Amv-Systemç­²å½“)
- å€‹äººç”¨ãƒ„ãƒ¼ãƒ«ã€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¢ãƒ—ãƒª
- ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆä¸åœ¨
- æŠ€è¡“çš„ä¾¡å€¤ãŒä¸»ä½“

âŒ **Business Domain** 
- æ¥­ç•Œå›ºæœ‰ã®è¤‡é›‘ãªãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«
- çµ„ç¹”é–“ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆå­˜åœ¨
```

#### **Step 2: è¤‡é›‘æ€§ã‚¹ã‚³ã‚¢ç®—å‡º**
```typescript
// ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«è¤‡é›‘æ€§ (0-3ç‚¹)
// - CRUDä¸­å¿ƒ: 1ç‚¹
// - ä¸­ç¨‹åº¦ãƒ«ãƒ¼ãƒ«: 2ç‚¹  
// - è¤‡é›‘ãƒ«ãƒ¼ãƒ«: 3ç‚¹

// çŠ¶æ…‹ç®¡ç†è¤‡é›‘æ€§ (0-3ç‚¹)
// - å˜ç´”ç·šå½¢: 1ç‚¹
// - ä¸­ç¨‹åº¦åˆ†å²: 2ç‚¹
// - è¤‡é›‘çŠ¶æ…‹æ©Ÿæ¢°: 3ç‚¹

// çµ±åˆåº¦ (0-2ç‚¹)
// - å˜ä½“ã‚¢ãƒ—ãƒª: 0ç‚¹
// - ä¸­ç¨‹åº¦çµ±åˆ: 1ç‚¹
// - é«˜çµ±åˆ: 2ç‚¹

// å°†æ¥æˆé•·æ€§ (0-2ç‚¹)
// - å®‰å®š: 0ç‚¹
// - ä¸­ç¨‹åº¦æˆé•·: 1ç‚¹
// - é«˜æˆé•·: 2ç‚¹

// Amv-Systemä¾‹: 1 + 1 + 1 + 1 = 4/10
```

#### **Step 3: ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£é¸æŠãƒãƒˆãƒªã‚¯ã‚¹**
```markdown
| ã‚¹ã‚³ã‚¢ | æ¨å¥¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ | é©ç”¨ã‚±ãƒ¼ã‚¹ |
|--------|-------------------|----------|
| 1-3    | Simple Functions  | å˜ç´”ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ |
| 4-6    | **Layered + Services** | **Amv-System** |
| 7-8    | Clean Architecture | ä¸­è¦æ¨¡ãƒ“ã‚¸ãƒã‚¹ã‚¢ãƒ—ãƒª |
| 9-10   | DDD + CQRS        | å¤§è¦æ¨¡ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚º |
```

### **ã‚ªãƒ¼ãƒãƒ¼ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°é˜²æ­¢ãƒ«ãƒ¼ãƒ«**

#### **ç¦æ­¢ãƒ‘ã‚¿ãƒ¼ãƒ³**
```typescript
// âŒ éåº¦ãªæŠ½è±¡åŒ–ä¾‹
class Position {
  constructor(private readonly x: number, private readonly y: number) {}
  // å˜ç´”ãªåº§æ¨™ã«Value Objectã¯éå‰°
}

// âœ… é©åˆ‡ãªã‚·ãƒ³ãƒ—ãƒ«å®Ÿè£…
interface MemoPosition {
  x: number;
  y: number;
}
```

#### **YAGNIåŸå‰‡ã®å¼·åŒ–**
```markdown
â— **ä»¥ä¸‹ã®å ´åˆã¯å®Ÿè£…ç¦æ­¢**
- ç¾åœ¨ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„æŠ½è±¡åŒ–
- å°†æ¥ã®å¯èƒ½æ€§ã®ã¿ã‚’æ ¹æ‹ ã¨ã—ãŸè¨­è¨ˆ
- 3å›ä»¥ä¸Šã®é‡è¤‡ãŒãªã„é™ã‚Šã®æŠ½è±¡åŒ–
- ãƒ†ã‚¹ãƒˆã®ãŸã‚ã ã‘ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
```

---

## ğŸ”§ **ã‚³ãƒ¼ãƒ‰å“è³ªç®¡ç†ãƒ—ãƒ­ã‚»ã‚¹**

### **å®Ÿè£…å‰ç¾©å‹™ãƒã‚§ãƒƒã‚¯**
```bash
# 1. ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãƒã‚§ãƒƒã‚¯
find . -name "*.ts" -o -name "*.tsx" | xargs wc -l | awk '$1 > 150 {print $2 ": " $1 "è¡Œ"} '

# 2. Cyclomatic Complexityãƒã‚§ãƒƒã‚¯
npx ts-complex --threshold 8 src/

# 3. anyå‹ä½¿ç”¨ç®‡æ‰€ã‚«ã‚¦ãƒ³ãƒˆ
rg ": any\b" --type ts | wc -l

# 4. é‡è¤‡ã‚³ãƒ¼ãƒ‰æ¤œå‡º
npx jscpd --threshold 3 --min-lines 5 src/
```

### **ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãƒˆãƒªã‚¬ãƒ¼**
```markdown
â— **ä»¥ä¸‹ã®å ´åˆã¯å³åº§ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°**
- ãƒ•ã‚¡ã‚¤ãƒ«ãŒ150è¡Œè¶…é
- é–¢æ•°ã®Cyclomatic ComplexityãŒ8è¶…é
- åŒä¸€ã‚³ãƒ¼ãƒ‰ãŒ3ç®‡æ‰€ä»¥ä¸Šã§é‡è¤‡
- anyå‹ä½¿ç”¨ãŒãƒ•ã‚¡ã‚¤ãƒ«å†…ã§3ç®‡æ‰€è¶…é
```

### **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ±ºå®šãƒ—ãƒ­ã‚»ã‚¹**
```markdown
1. **ãƒ‰ãƒ¡ã‚¤ãƒ³ç‰¹æ€§åˆ†æ** (1æ™‚é–“)
2. **è¤‡é›‘æ€§ã‚¹ã‚³ã‚¢ç®—å‡º** (30åˆ†)
3. **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒãƒˆãƒªã‚¯ã‚¹é©ç”¨** (15åˆ†)
4. **ã‚ªãƒ¼ãƒãƒ¼ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ãƒªã‚¹ã‚¯è©•ä¾¡** (15åˆ†)
5. **æœ€çµ‚æ±ºå®šã¨æ–‡æ›¸åŒ–** (30åˆ†)
```

---

## âš ï¸ **æŠ€è¡“çš„è² å‚µé˜²æ­¢ã‚·ã‚¹ãƒ†ãƒ **

### **æ—©æœŸè­¦å‘Šã‚·ã‚¹ãƒ†ãƒ **
```typescript
// package.json scripts ã«è¿½åŠ 
{
  "scripts": {
    "quality:check": "npm run lint && npm run type-check && npm run complexity:check",
    "complexity:check": "npx ts-complex --threshold 8 src/ || exit 1",
    "size:check": "find src -name '*.ts*' | xargs wc -l | awk '$1 > 150 {print; exit 1}'",
    "debt:report": "npx jscpd --reporters json --output .jscpd-report"
  }
}
```

### **CI/CDã‚²ãƒ¼ãƒˆ**
```yaml
# .github/workflows/quality-gate.yml
name: Quality Gate
on: [push, pull_request]

jobs:
  quality-check:
    runs-on: ubuntu-latest
    steps:
      - name: Code Quality Check
        run: |
          npm run quality:check
          npm run size:check
          npm run debt:report
      
      - name: Fail on Quality Issues
        if: failure()
        run: echo "Quality gate failed" && exit 1
```

---

####ã€€æœ€å¾Œã«
é–‹ç™ºæ–¹é‡ä¸Šã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ±ºå®šãŒå¿…è¦ãªã“ã¨ãŒã‚ã‚Œã°å¿…ãšç¢ºèªã™ã‚‹ã“ã¨ã€‚ç‰¹ã«ç¾åœ¨ã®æ©Ÿèƒ½ã¸ã®ç ´å£Šçš„å¤‰æ›´ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¨©é™ã€æ“ä½œã®ä¸å¯æ¬ ãªAPIã‚­ãƒ¼ã‚„å¤–éƒ¨ã‹ã‚‰ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãªã©ã®æ“ä½œãŒå¿…è¦ã«ãªã‚Œã°ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æŒ‡ç¤ºã€ææ¡ˆã™ã‚‹ã“ã¨ã€‚
ä¼šè©±ã¯æ—¥æœ¬èªã§è¡Œã†ã“ã¨ã€‚